#! DOCKER > wolfram -script output/Tests/DownValues_Tests.m
# SYSTEM: Mathematica_10
# TEST: DownValues_Tests
# These are the downvalues associated with f:
ok  DownValues[f]    ==>     {HoldPattern[f[1]] :> 2, HoldPattern[f[2]] :> 3, HoldPattern[f[x_]] :> x^2} # skip
ok  DownValues[f]    ==>     {HoldPattern[f[x_]] :> x^2} # skip
ok  Null    ==>     g[1] := 1*g[x_] := 2*g[x - 1] # skip
ok  g[5]    ==>     16 # skip
ok  DownValues[f]    ==>     {HoldPattern[f[x_ /; x > -2]] :> g1[x], HoldPattern[f[x_ /; x < 2]] :> g2[x]} # skip
ok  f[0]    ==>     g1[0] # skip
# Now reorder the definitions: 
ok  DownValues[f] = Reverse[DownValues[f]]    ==>     {HoldPattern[f[x_ /; x < 2]] :> g2[x], HoldPattern[f[x_ /; x > -2]] :> g1[x]} # skip
ok  f[0]    ==>     g2[0] # skip
ok  DownValues[g] = DownValues[f] /. f -> g    ==>     {HoldPattern[g[1]] :> 1, HoldPattern[g[x_]] :> 2*g[x - 1]} # skip
ok  g[10]    ==>     512 # skip
ok  DownValues[f]    ==>     {HoldPattern[f[1]] :> 1, HoldPattern[f[n_]] :> n*f[n - 1]} # skip
ok  DownValues[f]    ==>     {HoldPattern[f[x_]] :> x^2} # skip
ok  f[x_] :> x^2    ==>     (x_)^2 :> x^2 # skip
ok  f[x_] := x^3    ==>     f[x_] := x^3 # skip
# RefLink[DownValues,paclet:ref/DownValues] returns a value that can be used in a program:
not ok  DownValues[f]    ==>     {HoldPattern[f[x_]] :> x^3}
    ---
    data:
        got: {}
        expect: {HoldPattern[f[x_]] :> x^3}
        expect_evaluated: {f[x_] :> x^3}
    ...
not ok  Hold[f[2]] /. DownValues[f]    ==>     Hold[2^3]
    ---
    data:
        got: f[2]
        expect: Hold[2^3]
        expect_evaluated: 8
    ...
