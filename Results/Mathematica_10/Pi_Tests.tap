#! DOCKER > wolfram -script output/Tests/Pi_Tests.m
#! TextForm[ColonForm[MessageName[$IterationLimit, itlim], StringForm[Iteration limit of `1` exceeded., Short[HoldForm[4096], 3]]]]
#! TextForm[ColonForm[MessageName[$IterationLimit, itlim], StringForm[Iteration limit of `1` exceeded., Short[HoldForm[4096], 3]]]]
#! TextForm[ColonForm[MessageName[$IterationLimit, itlim], StringForm[Iteration limit of `1` exceeded., Short[HoldForm[4096], 3]]]]
#! TextForm[ColonForm[MessageName[General, stop], StringForm[Further output of `1` will be suppressed during this calculation., Short[HoldForm[MessageName[$IterationLimit, itlim]], 3]]]]
# SYSTEM: Mathematica_10
# TEST: Pi_Tests
# Pi can be entered as Esc\[ThinSpace]p\[ThinSpace]Esc:
ok  Pi    ==>     Pi
    ---
    data:
        got: Pi
        expect: Pi
        expect_evaluated: Pi
    ...
# Evaluate to any precision:
ok  N[Pi, 50]    ==>     3.1415926535897932384626433832795028841971693993751`49.49714987269414 # skip
# Do an exact numerical computation:
ok  Round[Pi^100]    ==>     51878483143196131920862615246303013562686760680406
    ---
    data:
        got: 51878483143196131920862615246303013562686760680406
        expect: 51878483143196131920862615246303013562686760680406
        expect_evaluated: 51878483143196131920862615246303013562686760680406
    ...
# Find the millionth digit of \[Pi] in base 10:
ok  First[RealDigits[Pi, 10, 1, -10^6]]    ==>     {1}
    ---
    data:
        got: {1}
        expect: {1}
        expect_evaluated: {1}
    ...
# Find an area of a circle:
ok  Integrate[Boole[x^2 + y^2 <= r^2], {x, -Infinity, Infinity}, {y, -Infinity, Infinity}, Assumptions -> r > 0]    ==>     Pi*r^2
    ---
    data:
        got:     2
#! Pi r
        expect: Pi*r^2
        expect_evaluated:     2
#! Pi r
    ...
# The first 20 digits of \[Pi] in base 10:
ok  RealDigits[Pi, 10, 20]    ==>     {{3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5, 8, 9, 7, 9, 3, 2, 3, 8, 4}, 1}
    ---
    data:
        got: {{3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5, 8, 9, 7, 9, 3, 2, 3, 8, 4}, 1}
        expect: {{3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5, 8, 9, 7, 9, 3, 2, 3, 8, 4}, 1}
        expect_evaluated: {{3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5, 8, 9, 7, 9, 3, 2, 3, 8, 4}, 1}
    ...
ok  ContinuedFraction[Pi, 20]    ==>     {3, 7, 15, 1, 292, 1, 1, 1, 2, 1, 3, 1, 14, 2, 1, 1, 2, 2, 2, 2}
    ---
    data:
        got: {3, 7, 15, 1, 292, 1, 1, 1, 2, 1, 3, 1, 14, 2, 1, 1, 2, 2, 2, 2}
        expect: {3, 7, 15, 1, 292, 1, 1, 1, 2, 1, 3, 1, 14, 2, 1, 1, 2, 2, 2, 2}
        expect_evaluated: {3, 7, 15, 1, 292, 1, 1, 1, 2, 1, 3, 1, 14, 2, 1, 1, 2, 2, 2, 2}
    ...
# Trigonometric functions have arguments in radians:
ok  Sin[Pi/4]    ==>     1/Sqrt[2]
    ---
    data:
        got:    1
#! -------
#! Sqrt[2]
        expect: 1/Sqrt[2]
        expect_evaluated:    1
#! -------
#! Sqrt[2]
    ...
# Many mathematical functions and operations give results involving \[Pi]:
ok  Zeta[2]    ==>     Pi^2/6
    ---
    data:
        got:   2
#! Pi
#! ---
#!  6
        expect: Pi^2/6
        expect_evaluated:   2
#! Pi
#! ---
#!  6
    ...
ok  Integrate[Exp[-x^2], {x, -Infinity, Infinity}]    ==>     Sqrt[Pi]
    ---
    data:
        got: Sqrt[Pi]
        expect: Sqrt[Pi]
        expect_evaluated: Sqrt[Pi]
    ...
# Various symbolic relations are automatically used:
ok  Pi > 3    ==>     True
    ---
    data:
        got: True
        expect: True
        expect_evaluated: True
    ...
ok  Element[Pi, Algebraics]    ==>     False
    ---
    data:
        got: False
        expect: False
        expect_evaluated: False
    ...
# RefLink[Pi,paclet:ref/Pi] is treated as a constant in differentiation:
ok  Dt[Pi, x]    ==>     0
    ---
    data:
        got: 0
        expect: 0
        expect_evaluated: 0
    ...
# Walk corresponding to the binary digits of \[Pi]:
not ok  HoldComplete[ListLinePlot[Accumulate[(-1)^First[RealDigits[Pi, 2, 200]]]]]    ==>     $Failed
    ---
    data:
        got: -Graphics-
        expect: $Failed
        expect_evaluated: $Failed
    ...
# Terms in the continued fraction:
not ok  HoldComplete[ListLinePlot[ContinuedFraction[Pi, 400], PlotRange -> All]]    ==>     $Failed
    ---
    data:
        got: -Graphics-
        expect: $Failed
        expect_evaluated: $Failed
    ...
